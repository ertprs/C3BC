<mat-toolbar class="mat-elevation-z2" color="primary">
    <mat-toolbar-row id="first-toolbar-row">
      <a href="https://www.cod3r.com.br/" target="_blank">
        <img id="logo" mat-card-image src="assets\icons\logotipo-cod3r-white.png">
      </a>
      <button mat-icon-button>
        <mat-icon>menu</mat-icon>
      </button>
    </mat-toolbar-row>

    <mat-toolbar-row id="second-toolbar-row">
      <form class="full-width">
        <mat-form-field class="search-input full-width">
          <input matInput type="search" placeholder="Pesquisar">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </form>
    </mat-toolbar-row>
</mat-toolbar>

<mat-tab-group mat-stretch-tabs class="mat-elevation-z4">
    <mat-tab label="Respostas">
      <mat-accordion>
        <mat-expansion-panel  #answerPainel
                              *ngFor="let answer of answersObservable | async; let i = index"
                              (opened)="setAnswerStep(i)"
                              [expanded]="answerStep === i">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-list-item >
                <div mat-line>{{answer.name}}</div>
                <div @fade-in *ngIf="!answerPainel.expanded" mat-line class="answer-content"> {{answer.content}} </div>
              </mat-list-item>
            </mat-panel-title>

            <button mat-icon-button class="answer-notes-button" (click)="$event.stopPropagation();">
              <mat-icon>notes</mat-icon>
            </button>
          </mat-expansion-panel-header>

          <p>{{answer.content}}</p>
          
          <mat-action-row>
            <div>
              <button class="edit-button" mat-icon-button>
                <mat-icon>edit</mat-icon>
              </button>
              <button class="delete-button" mat-icon-button>
                <mat-icon>delete</mat-icon>
              </button>
            </div>
            <div>
              <button *ngIf="answerStep > 0" mat-button color="warn" (click)="prevAnswer()">Anterior</button>
              <button mat-button class="next-button" color="primary" (click)="nextAnswer()">Próxima</button>
            </div>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab>

    <mat-tab label="Categorias">
      <mat-accordion>
        <mat-expansion-panel  #categoryPainel
                              *ngFor="let category of categoriesWithAnswersObservable | async; let i = index"
                              (opened)="setCategoryStep(i)"
                              [expanded]="categoryStep === i">
          <mat-expansion-panel-header>
            <mat-panel-title>
                {{category.name}} 
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-list *ngFor="let answer of category.answers">
            <mat-list-item >
              <div mat-line>{{answer.name}}</div>
              <div mat-line class="answer-content"> {{answer.content}} </div>
            </mat-list-item>
           </mat-list>

          <mat-action-row>
            <div>
              <button class="edit-button" mat-icon-button>
                <mat-icon>edit</mat-icon>
              </button>
              <button class="delete-button" mat-icon-button>
                <mat-icon>delete</mat-icon>
              </button>
            </div>
            <div>
              <button *ngIf="categoryStep > 0" mat-button color="warn" (click)="prevCategory()">Anterior</button>
              <button mat-button class="next-button" color="primary" (click)="nextCategory()">Próxima</button>
            </div>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab>
</mat-tab-group>